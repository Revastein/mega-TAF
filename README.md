# mega-TAF :godmode:

> UI-фреймворк на **Python 3.13 · PyTest · Selenium · Allure**

Тестируем четыре ключевых сценария <https://mega.readyscript.ru>

1. Логин существующего пользователя
2. Навигация «Каталог → Электроника → Планшеты → Digma»
3. Корзина — добавить и удалить товар
4. Избранное — добавить и удалить товар

---

## Как запустить

| Способ       | Команды                                                                | Что нужно на машине          |
|--------------|------------------------------------------------------------------------|------------------------------|
| **Локально** | `pip install -r requirements.txt && pytest --alluredir=allure-results` | Python 3.11+ и Google Chrome |
| **Docker**   | `docker build -t mega-taf .`<br>`docker run --rm mega-taf`             | Docker ≥ 24                  |

> • Все **Allure-результаты** лежат в каталоге `allure-results`.  
> • Просмотреть отчёт: `allure serve allure-results`

---

## FAQ

* **Какие логины/пароли использовать?**  
  Для тестов доступны две пары данных:  

  | Логин                 | Пароль          | Как передать                                                                                                                    |
  |-----------------------|-----------------|---------------------------------------------------------------------------------------------------------------------------------|
  | `may@test.ru`         | `mayflowertest` | Через переменные-окружения `TEST_USERNAME` / `TEST_PASSWORD` или добавьте в `.env`                                              |
  | `test.test@test.test` | `stub_password` | Дефолтные значения в тестах. Автоматически используются, если ничего не передать в `.env` или `TEST_USERNAME` / `TEST_PASSWORD` |

* **Почему селекторы не по `data-qa`?**
  На стенде подобных атрибутов, к сожалению, нет. Хорошей практикой является цеплять QA-атрибуты к элементам в DOM,
  которые будут якорем для более стабильных селекторов

* **Как можно лучше переиспользовать код тестов?**
  Для переиспользования кода, можно использовать pytest.mark.parametrize либо кастомную параметризацию
